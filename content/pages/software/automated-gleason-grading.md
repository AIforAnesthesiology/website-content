title: Automated Gleason Grading
template: project-single
picture: software/automated_gleason_grading.png
description: Automated analysis of prostate biopsies following the Gleason grading system.
groups: pathology, diag
people: Wouter Bulten, Geert Litjens, Hans Pinckaers, Thomas de Bel, Christina Hulsbergen-van de Kaa, Robert Vink, Hester van Boven, Jeroen van der Laak, Bram van Ginneken
bibkeys: bult19b, bult19, Bel19, Band17

The **Gleason score** is the most important prognostic marker for prostate cancer patients but suffers from significant inter-observer variability. We developed a **fully automated system using deep learning** that can grade prostate biopsies following the Gleason Grading System. We have published the algorithm, and it is now available to try out online; no deep learning hardware required.

<figure class="figure my-4">
  <img data-src="/images/software/gleason_segmentation_overlays_small.png" class="figure-img img-fluid lazyload" alt="Example segmentations of the Gleason algorithm.">
  <figcaption class="figure-caption">Three examples showing the output of the Gleason algorithm. The algorithm marks glands in green (benign), yellow (Gleason 3), orange (Gleason 4) or red (Gleason 5).</figcaption>
</figure>

## Trying out the algorithm

Our trained system can be tried out online through the [Grand Challenge Algorithms](https://grand-challenge.org/algorithms/) platform. All processing is performed on the platform; there is no specialized hardware required to try out our algorithm.

Running the algorithm requires an account for Grand Challenge. If you don't have an account yet, you can register at the [website](https://grand-challenge.org/accounts/signin/); alternatively, you can log in using a Google account.

After registering for a new account, or logging in to an existing Grand Challenge account, you can request access to the algorithm. The algorithm can be run with a minimum of one biopsy, supplied in a multiresolution tiff file. We assume that the following magnification levels are available in the slide (measured in &mu;m pixel spacing): 0.24, 1.0, and 2.0.

<a href="https://grand-challenge.org/algorithms/gleason-grading-of-prostate-biopsies/" class="btn btn-primary btn-lg my-3">Try out the algorithm</a>

<small class="text-muted">Before submitting, please take our <a href="#terms">Terms & Conditions</a> in to account.</small>

## Description of the pipeline

The algorithm consists of multiple steps to prepare and analyze the data:

1. For each biopsy, a background tissue mask will be generated by a deep learning-based tissue segmentation system.
2. Based on the input and a small set of target files, a CycleGAN-based normalization algorithm is trained.
2. The trained normalization algorithm is applied to all input biopsies to normalize the data.
3. Each normalized biopsy is processed by the automated Gleason grading system. The output of the system consists of an overlay and a set of metrics for each biopsy. The metrics include the biopsy-level grade group, the Gleason score, and predicted volume percentages.

Each job roughly completes within an hour, depending on the size of the input and the processing capacity. Approximately 80% of the time is spent on training a new normalization CycleGAN network. It is, therefore, more efficient to submit several biopsies at once, then to submit multiple jobs with a single biopsy. The Gleason grading system itself can grade a biopsy within a few minutes.

<figure class="figure my-4">
  <img data-src="/images/software/gleason_algorithm_overview.png" class="figure-img img-fluid lazyload rounded" alt="Overview of the pipeline.">
  <figcaption class="figure-caption">Overview of the Gleason grading pipeline, including the normalization step.</figcaption>
</figure>

<a name="terms"></a>
## Terms & Conditions

When submitting data to the algorithm, please take the following into account:

1. The use of the algorithm is for research purposes only. The algorithm was trained on data from a single center, and can give the wrong diagnosis on external data.
2. A custom normalization algorithm is trained on the input data, though this cannot overcome all stain and scanner differences. We limit the overall processing time of each job by setting an upper bound on the number of epochs the normalization algorithm is trained.
3. We currently only support multiresolution .tif files as input.
4. All input images should contain magnification levels that correspond to a 0.24, 1.0, and 2.0&mu;m pixel spacing. The algorithm will fail if any of the input images miss one or more of these levels.
5. Following the Terms & Conditions of the Grand-Challenge platform, submitted data can be used for further research projects. We assume that submitted data has been anonymized and that you, as a submitter, have the right to submit the image.

## More information

Please refer to any of the following sources for more information:

- The full paper can be read at <journal link follows>, a preprint is available on [arXiv](https://arxiv.org/abs/1907.07980/).
- This algorithm is part of the [DeepPCA](/projects/deeppca) research project.

Further questions regarding the Gleason grading system can be addressed to [member: Wouter Bulten].
